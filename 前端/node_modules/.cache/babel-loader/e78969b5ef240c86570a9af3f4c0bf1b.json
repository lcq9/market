{"remainingRequest":"D:\\OneDrive\\桌面\\课设3\\front\\node_modules\\babel-loader\\lib\\index.js!D:\\OneDrive\\桌面\\课设3\\front\\src\\router\\index.js","dependencies":[{"path":"D:\\OneDrive\\桌面\\课设3\\front\\src\\router\\index.js","mtime":1685437692921},{"path":"D:\\OneDrive\\桌面\\课设3\\front\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1685373984464},{"path":"D:\\OneDrive\\桌面\\课设3\\front\\node_modules\\babel-loader\\lib\\index.js","mtime":1685373987851}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5pdGVyYXRvci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuaXRlcmF0b3IuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5maW5kLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuZm9yLWVhY2guanMiOwppbXBvcnQgVnVlIGZyb20gJ3Z1ZSc7CmltcG9ydCBWdWVSb3V0ZXIgZnJvbSAndnVlLXJvdXRlcic7ClZ1ZS51c2UoVnVlUm91dGVyKTsKdmFyIHJvdXRlcyA9IFt7CiAgcGF0aDogJy8nLAogIHJlZGlyZWN0OiAnL2Zyb250L2hvbWUnCn0sIHsKICBwYXRoOiAnL2Zyb250JywKICBuYW1lOiAnRnJvbnQnLAogIGNvbXBvbmVudDogZnVuY3Rpb24gY29tcG9uZW50KCkgewogICAgcmV0dXJuIGltcG9ydCgiLi4vbGF5b3V0L2Zyb250Iik7CiAgfSwKICBjaGlsZHJlbjogW3sKICAgIHBhdGg6ICdob21lJywKICAgIG5hbWU6ICdGcm9udEhvbWUnLAogICAgY29tcG9uZW50OiBmdW5jdGlvbiBjb21wb25lbnQoKSB7CiAgICAgIHJldHVybiBpbXBvcnQoIi4uL3ZpZXdzL2Zyb250L2hvbWUiKTsKICAgIH0KICB9LCB7CiAgICBwYXRoOiAnc2VhcmNoJywKICAgIG5hbWU6ICdTZWFyY2gnLAogICAgY29tcG9uZW50OiBmdW5jdGlvbiBjb21wb25lbnQoKSB7CiAgICAgIHJldHVybiBpbXBvcnQoIi4uL3ZpZXdzL2Zyb250L3NlYXJjaCIpOwogICAgfQogIH0sIHsKICAgIHBhdGg6ICdnb29kcycsCiAgICBuYW1lOiAnR29vZHMnLAogICAgY29tcG9uZW50OiBmdW5jdGlvbiBjb21wb25lbnQoKSB7CiAgICAgIHJldHVybiBpbXBvcnQoIi4uL3ZpZXdzL2Zyb250L2dvb2RzIik7CiAgICB9CiAgfSwgewogICAgcGF0aDogJ2NhcnQnLAogICAgbmFtZTogJ0NhcnQnLAogICAgY29tcG9uZW50OiBmdW5jdGlvbiBjb21wb25lbnQoKSB7CiAgICAgIHJldHVybiBpbXBvcnQoIi4uL3ZpZXdzL2Zyb250L2NhcnQiKTsKICAgIH0KICB9LCB7CiAgICBwYXRoOiAncHJlT3JkZXInLAogICAgbmFtZTogJ1ByZU9yZGVyJywKICAgIGNvbXBvbmVudDogZnVuY3Rpb24gY29tcG9uZW50KCkgewogICAgICByZXR1cm4gaW1wb3J0KCIuLi92aWV3cy9mcm9udC9wcmVPcmRlciIpOwogICAgfQogIH0sIHsKICAgIHBhdGg6ICdvcmRlcicsCiAgICBuYW1lOiAnRnJvbnRPcmRlcicsCiAgICBjb21wb25lbnQ6IGZ1bmN0aW9uIGNvbXBvbmVudCgpIHsKICAgICAgcmV0dXJuIGltcG9ydCgiLi4vdmlld3MvZnJvbnQvb3JkZXIiKTsKICAgIH0KICB9LCB7CiAgICBwYXRoOiAnY29sbGVjdCcsCiAgICBuYW1lOiAnQ29sbGVjdCcsCiAgICBjb21wb25lbnQ6IGZ1bmN0aW9uIGNvbXBvbmVudCgpIHsKICAgICAgcmV0dXJuIGltcG9ydCgiLi4vdmlld3MvZnJvbnQvY29sbGVjdCIpOwogICAgfQogIH0sIHsKICAgIHBhdGg6ICdwZXJzb24nLAogICAgbmFtZTogJ1BlcnNvbicsCiAgICBjb21wb25lbnQ6IGZ1bmN0aW9uIGNvbXBvbmVudCgpIHsKICAgICAgcmV0dXJuIGltcG9ydCgiLi4vdmlld3MvZnJvbnQvcGVyc29uIik7CiAgICB9CiAgfSwgewogICAgcGF0aDogJ2FkZHJlc3MnLAogICAgbmFtZTogJ0FkZHJlc3MnLAogICAgY29tcG9uZW50OiBmdW5jdGlvbiBjb21wb25lbnQoKSB7CiAgICAgIHJldHVybiBpbXBvcnQoIi4uL3ZpZXdzL2Zyb250L2FkZHJlc3MiKTsKICAgIH0KICB9XQp9LCB7CiAgcGF0aDogJy9sb2dpbicsCiAgbmFtZTogJ0xvZ2luJywKICBjb21wb25lbnQ6IGZ1bmN0aW9uIGNvbXBvbmVudCgpIHsKICAgIHJldHVybiBpbXBvcnQoIi4uL3ZpZXdzL2xvZ2luIik7CiAgfQp9LCB7CiAgcGF0aDogJy9yZWdpc3RlcicsCiAgbmFtZTogJ1JlZ2lzdGVyJywKICBjb21wb25lbnQ6IGZ1bmN0aW9uIGNvbXBvbmVudCgpIHsKICAgIHJldHVybiBpbXBvcnQoIi4uL3ZpZXdzL3JlZ2lzdGVyIik7CiAgfQp9XTsKCnZhciBjcmVhdGVSb3V0ZXIgPSBmdW5jdGlvbiBjcmVhdGVSb3V0ZXIoKSB7CiAgcmV0dXJuIG5ldyBWdWVSb3V0ZXIoewogICAgbW9kZTogJ2hpc3RvcnknLAogICAgcm91dGVzOiByb3V0ZXMKICB9KTsKfTsKCnZhciByb3V0ZXIgPSBjcmVhdGVSb3V0ZXIoKTsKdmFyIHVzZXIgPSBzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKCJ1c2VyIikgPyBKU09OLnBhcnNlKHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oInVzZXIiKSkgOiB7fTsKcmVzZXRSb3V0ZXIodXNlci5wZXJtaXNzaW9uKTsgLy/lhpnkuIDkuKrph43nva7ot6/nlLHnmoTmlrnms5XvvIzliIfmjaLnlKjmiLflkI7vvIzmiJbogIXpgIDlh7rml7bmuIXpmaTliqjmgIHliqDovb3nmoTot6/nlLEKCmV4cG9ydCBmdW5jdGlvbiByZXNldFJvdXRlcihwZXJtaXNzaW9ucykgewogIGlmIChwZXJtaXNzaW9ucykgewogICAgdmFyIG5ld1JvdXRlciA9IGNyZWF0ZVJvdXRlcigpOwogICAgcm91dGVyLm1hdGNoZXIgPSBuZXdSb3V0ZXIubWF0Y2hlcjsgLy8g5paw6Lev55Sx5a6e5L6LbWF0Y2Vy77yM6LWL5YC857uZ5pen6Lev55Sx5a6e5L6L55qEbWF0Y2hlcu+8jO+8iOebuOW9k+S6jnJlcGxhY2VSb3V0ZXLvvIkKCiAgICBpZiAoIXJvdXRlci5nZXRSb3V0ZXMoKS5maW5kKGZ1bmN0aW9uICh2KSB7CiAgICAgIHJldHVybiB2Lm5hbWUgPT09ICdNYW5hZ2UnOwogICAgfSkpIHsKICAgICAgcm91dGVyLmFkZFJvdXRlKGdldFBlcm1pc3Npb25zKHBlcm1pc3Npb25zKSk7CiAgICB9CiAgfQp9CgpmdW5jdGlvbiBnZXRQZXJtaXNzaW9ucyhwZXJtaXNzaW9ucykgewogIHZhciBtYW5hZ2UgPSB7CiAgICBwYXRoOiAnL21hbmFnZScsCiAgICBuYW1lOiAnTWFuYWdlJywKICAgIGNvbXBvbmVudDogZnVuY3Rpb24gY29tcG9uZW50KCkgewogICAgICByZXR1cm4gaW1wb3J0KCIuLi9sYXlvdXQvbWFuYWdlIik7CiAgICB9LAogICAgY2hpbGRyZW46IFt7CiAgICAgIHBhdGg6ICdwZXJzb24nLAogICAgICBuYW1lOiAn5Liq5Lq65L+h5oGvJywKICAgICAgY29tcG9uZW50OiBmdW5jdGlvbiBjb21wb25lbnQoKSB7CiAgICAgICAgcmV0dXJuIGltcG9ydCgiLi4vdmlld3MvbWFuYWdlL3BlcnNvbiIpOwogICAgICB9CiAgICB9XQogIH07IC8vIOiuvue9rui3r+eUseiPnOWNlQoKICBpZiAocGVybWlzc2lvbnMpIHsKICAgIHBlcm1pc3Npb25zLmZvckVhY2goZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgbWFuYWdlLmNoaWxkcmVuLnB1c2goewogICAgICAgIHBhdGg6ICIvbWFuYWdlIiArIGl0ZW0ucGF0aCwKICAgICAgICBuYW1lOiBpdGVtLm5hbWUsCiAgICAgICAgY29tcG9uZW50OiBmdW5jdGlvbiBjb21wb25lbnQoKSB7CiAgICAgICAgICByZXR1cm4gaW1wb3J0KCIuLi92aWV3cy9tYW5hZ2UiICsgaXRlbS5wYXRoKTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSk7CiAgfQoKICByZXR1cm4gbWFuYWdlOwp9IC8vIHZ1ZVJvdXRlci5iZWZvcmVFYWNoKCh0bywgZnJvbSwgbmV4dCkgPT4gewovLyAgICAgLy8g5Yik5pat6KaB5Y6755qE6Lev55Sx55WM6Z2i5piv5LiN5piv6KaB6Ym05p2DCi8vICAgICBpZiAodG8ucGF0aC5pbmNsdWRlcygnbWFuYWdlJykpIHsKLy8gICAgICAgICAvLyDmn6XnnIvmmK/lkKbnmbvpmYYKLy8gICAgICAgICBpZiAoIXVzZXIuaWQpIHsKLy8gICAgICAgICAgICAgLy8g5rKh55m75b2V55qE5YGa5aSE55CGCi8vICAgICAgICAgICAgIG5leHQoewovLyAgICAgICAgICAgICAgICAgcGF0aDogJy9sb2dpbicKLy8gICAgICAgICAgICAgfSkKLy8gICAgICAgICB9IGVsc2UgewovLyAgICAgICAgICAgICAvLyDnmbvpmYbnmoTmraPluLjot7MKLy8gICAgICAgICAgICAgbmV4dCgpCi8vICAgICAgICAgfQovLyAgICAgfSBlbHNlIHsKLy8gICAgICAgICAvLyDkuI3pnIDopoHpibTmnYPnmoTmraPluLjot7MKLy8gICAgICAgICBuZXh0KCkKLy8gICAgIH0KLy8gfSkKCgpleHBvcnQgZGVmYXVsdCByb3V0ZXI7"},{"version":3,"sources":["D:/OneDrive/桌面/课设3/front/src/router/index.js"],"names":["Vue","VueRouter","use","routes","path","redirect","name","component","children","createRouter","mode","router","user","sessionStorage","getItem","JSON","parse","resetRouter","permission","permissions","newRouter","matcher","getRoutes","find","v","addRoute","getPermissions","manage","forEach","item","push"],"mappings":"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","sourcesContent":["import Vue from 'vue'\r\nimport VueRouter from 'vue-router'\r\n\r\nVue.use(VueRouter)\r\n\r\nlet routes = [\r\n    {\r\n        path: '/',\r\n        redirect: '/front/home',\r\n    },\r\n    {\r\n        path: '/front',\r\n        name: 'Front',\r\n        component: () => import(\"../layout/front\"),\r\n        children: [\r\n            {\r\n                path: 'home',\r\n                name: 'FrontHome',\r\n                component: () => import(\"../views/front/home\")\r\n            },\r\n            {\r\n                path: 'search',\r\n                name: 'Search',\r\n                component: () => import(\"../views/front/search\")\r\n            },\r\n            {\r\n                path: 'goods',\r\n                name: 'Goods',\r\n                component: () => import(\"../views/front/goods\")\r\n            },\r\n            {\r\n                path: 'cart',\r\n                name: 'Cart',\r\n                component: () => import(\"../views/front/cart\")\r\n            },\r\n            {\r\n                path: 'preOrder',\r\n                name: 'PreOrder',\r\n                component: () => import(\"../views/front/preOrder\")\r\n            },\r\n            {\r\n                path: 'order',\r\n                name: 'FrontOrder',\r\n                component: () => import(\"../views/front/order\")\r\n            },\r\n            {\r\n                path: 'collect',\r\n                name: 'Collect',\r\n                component: () => import(\"../views/front/collect\")\r\n            },\r\n            {\r\n                path: 'person',\r\n                name: 'Person',\r\n                component: () => import(\"../views/front/person\")\r\n            },\r\n            {\r\n                path: 'address',\r\n                name: 'Address',\r\n                component: () => import(\"../views/front/address\")\r\n            },\r\n        ]\r\n    },\r\n    {\r\n        path: '/login',\r\n        name: 'Login',\r\n        component: () => import(\"../views/login\")\r\n    },\r\n    {\r\n        path: '/register',\r\n        name: 'Register',\r\n        component: () => import(\"../views/register\")\r\n    },\r\n]\r\n\r\n\r\nconst createRouter = () => new VueRouter({\r\n    mode: 'history',\r\n    routes: routes\r\n})\r\n\r\nconst router = createRouter()\r\n\r\nlet user = sessionStorage.getItem(\"user\") ? JSON.parse(sessionStorage.getItem(\"user\")) : {}\r\nresetRouter(user.permission)\r\n\r\n//写一个重置路由的方法，切换用户后，或者退出时清除动态加载的路由\r\nexport function resetRouter(permissions) {\r\n    if (permissions) {\r\n        const newRouter = createRouter()\r\n        router.matcher = newRouter.matcher // 新路由实例matcer，赋值给旧路由实例的matcher，（相当于replaceRouter）\r\n        if (!router.getRoutes().find(v => v.name === 'Manage')) {\r\n            router.addRoute(getPermissions(permissions))\r\n        }\r\n    }\r\n\r\n}\r\n\r\nfunction getPermissions(permissions) {\r\n    let manage = {\r\n        path: '/manage', name: 'Manage', component: () => import(\"../layout/manage\"),\r\n        children: [\r\n            { path: 'person', name: '个人信息', component: () => import(\"../views/manage/person\") }\r\n        ]\r\n    }\r\n    // 设置路由菜单\r\n    if (permissions) {\r\n        permissions.forEach(item => {\r\n            manage.children.push({\r\n                path: \"/manage\" + item.path,\r\n                name: item.name,\r\n                component: () => import(\"../views/manage\" + item.path)\r\n            });\r\n        })\r\n    }\r\n    return manage\r\n}\r\n\r\n\r\n// vueRouter.beforeEach((to, from, next) => {\r\n//     // 判断要去的路由界面是不是要鉴权\r\n//     if (to.path.includes('manage')) {\r\n//         // 查看是否登陆\r\n//         if (!user.id) {\r\n//             // 没登录的做处理\r\n//             next({\r\n//                 path: '/login'\r\n//             })\r\n//         } else {\r\n//             // 登陆的正常跳\r\n//             next()\r\n//         }\r\n//     } else {\r\n//         // 不需要鉴权的正常跳\r\n//         next()\r\n//     }\r\n// })\r\n\r\nexport default router\r\n"]}]}